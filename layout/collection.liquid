<!DOCTYPE html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    {% render 'head-base' %}
    {{ content_for_header }}

    <script src="{{ 'collection.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'dropdown-button.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'my-like-button.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'filter-drawer.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'collection-tag-filter.js' | asset_url }}" defer="defer"></script>
  </head>

  <body class="w-screen overflow-x-hidden text-main bg-secondary transition-colors duration-500 z-10 scrollbar relative min-h-screen">
    <a class="sr-only focus:not-sr-only" href="#MainContent">
      {{ 'accessibility.skip_to_text' | t }}
    </a>

    {% section 'tw-announcement-bar' %}
    {% section 'tw-header' %}
    {% section 'tw-cart-drawer' %}
    {% render 'tw-filter-drawer' %}
    {% render 'open-cart-drawer-button' %}


    <div id="wrapper-overlay" class="relative">
      <main
        id="MainContent"
        role="main"
        class="grid">
        {{ content_for_layout }}
      </main>
      {% section 'tw-footer' %}
      <div id="overlay-content" class="absolute z-30 inset-0 bg-[rgba(0,46,93,0)] shadow-[shadow-[0_8px_32px_0_rgba(31,38,135,0.37)]] backdrop-blur-[2px] hidden"></div>
    </div>

    <script>
      window.shopUrl = '{{ request.origin }}';
      window.routes = {
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        cart_url: '{{ routes.cart_url }}',
        predictive_search_url: '{{ routes.predictive_search_url }}',
      };
      
      window.cartStrings = {
        error: `{{ 'general.cart.cart_error' | t }}`,
        quantityError: `{{ 'general.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`,
      };
      
      window.variantStrings = {
        addToCart: `{{ 'products.product.add_to_cart' | t }}`,
        soldOut: `{{ 'products.product.sold_out' | t }}`,
        unavailable: `{{ 'products.product.unavailable' | t }}`,
      };
      
      window.accessibilityStrings = {
        imageAvailable: `{{ 'products.product.media.image_available' | t: index: '[index]' }}`,
        shareSuccess: `{{ 'general.share.success_message' | t }}`,
        pauseSlideshow: `{{ 'sections.slideshow.pause_slideshow' | t }}`,
        playSlideshow: `{{ 'sections.slideshow.play_slideshow' | t }}`,
      };
    </script>

    {%- if settings.enable_cookie -%}
      {% render 'cookie-banner' %}
    {%- endif -%}
  </body>
</html>